spring:
  application:
    name: bioeng-tsn-app

  main:
    # Force startup in Servlet (Tomcat) mode when simultaneously depending on web + webflux (for WebClient / Mono)
    web-application-type: servlet
    # Allow bean definition overriding (to prevent WebFlux auto-configuration conflicts)
    allow-bean-definition-overriding: true

  datasource:
    url: jdbc:postgresql://47.103.85.203:5432/imperial_profiles?sslmode=disable&connectTimeout=10&socketTimeout=30
    username: postgres
    driver-class-name: org.postgresql.Driver
    password: 12345678
    # HikariCP connection pool configuration
    hikari:
      # Minimum number of idle connections in the pool
      minimum-idle: 5
      # Maximum size of the connection pool
      maximum-pool-size: 20
      # Connection timeout (milliseconds)
      connection-timeout: 10000
      # Connection idle timeout (milliseconds)
      idle-timeout: 300000
      # Maximum lifetime of a connection (milliseconds)
      max-lifetime: 1800000
      # Connection test query
      connection-test-query: SELECT 1

  # Transaction Management
  transaction:
    default-timeout: 30

  # Disable automatic execution of SQL initialization scripts (to prevent crashes due to script failures during startup)
  sql:
    init:
      mode: never

# MyBatis Plus
mybatis-plus:
  mapper-locations: classpath*:generator/mapper/*.xml,classpath*:com/zds/bioengtsnapp/mapper/*.xml
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    map-underscore-to-camel-case: true

deepseek:
  api:
    key: sk-b81e9c8cf9624929af4b668125a9955f
  base-url: https://api.deepseek.com